# Claude Expert Plugin

**Expert knowledge system for Claude Code with comprehensive official documentation.**

**Fully qualified name:** `claude-expert:docs`

## Overview

This plugin provides the `docs` Skill that makes Claude Code an expert on itself. It includes:

- **Complete documentation database** (44 official sections)
- **Intelligent search** across all documentation
- **MDX transformation pipeline** (converts JSX/MDX to clean markdown)
- **Smart caching system** (10-38x performance improvement)
- **Update workflow** for keeping documentation current

## Features

### Documentation Skill

The `docs` Skill (`claude-expert:docs`) activates automatically when you ask questions about:
- Claude Code features and capabilities
- Plugins, Skills, Hooks, MCP servers
- Subagents and agents
- Configuration and settings
- Deployment (AWS, Azure, GCP)
- IDE integrations (VS Code, JetBrains)
- Troubleshooting and best practices

### Built-in Agent Override

This plugin includes a `claude-docs` agent that **overrides the built-in Claude Code agent**. When Claude needs to answer documentation questions, it will:

1. Activate the `claude-expert:docs` skill (not the built-in agent)
2. Use the `claude-docs.sh` tool for accurate, cached documentation
3. Never search the web or rely on training data alone

This ensures all Claude Code documentation queries go through your plugin's expert system.

### Documentation CLI Tool

Bundled `claude-docs.sh` tool provides:

**Search:**
- Context-aware search with Â±5 lines
- Smart result limiting (10 detailed, summary if more)
- Searches transformed, cached content

**Retrieval:**
- Get full documentation sections
- Extract specific subsections by anchor
- All MDX/JSX transformed to markdown

**Navigation:**
- List all 44 documentation sections
- Show document structure with anchors
- Find information quickly

**Caching:**
- 10-38x performance improvement
- Auto-invalidation on source changes
- Pre-warming capability

**Updates:**
- Safe staged update workflow
- Diff review before applying
- Auto-changelog generation

## Installation

### Add the Marketplace

```bash
/plugin marketplace add dkmaker/my-claude-plugins
```

### Install the Plugin

```bash
/plugin install my-claude-plugins/claude-expert
```

Restart Claude Code to activate the Skill.

## Usage

Once installed, the Skill activates automatically. Just ask Claude Code questions:

**Examples:**
- "How do I create a plugin?"
- "What MCP servers work with Claude Code?"
- "Can Claude Code integrate with VS Code?"
- "How do subagents work?"
- "What are Agent Skills?"

Claude will automatically use the Skill to retrieve official documentation and provide accurate answers.

## Documentation Coverage

**7 Major Categories:**
1. Getting started (3 sections)
2. Outside of the terminal (5 sections)
3. Build with Claude Code (8 sections)
4. Deployment (8 sections)
5. Administration (8 sections)
6. Settings (5 sections)
7. Reference (6 sections)
8. Resources (1 section)

**Total:** 44 comprehensive documentation sections

## Manual CLI Usage

You can also use the CLI tool directly from the plugin scripts directory:

```bash
cd ~/.claude/plugins/my-claude-plugins/claude-expert/scripts/

# Search
./claude-docs.sh search 'oauth'

# Get documentation
./claude-docs.sh get plugins

# List all docs
./claude-docs.sh list

# Check updates
./claude-docs.sh update status
```

## Transformations Applied

The tool transforms documentation for optimal readability:

1. **MDX Callouts** â†’ Markdown blockquotes (ğŸ“ ğŸ’¡ âš ï¸)
2. **Card Groups** â†’ Bullet lists with commands
3. **Tabs** â†’ Sections
4. **Steps** â†’ Numbered lists
5. **MCP Component** â†’ Table (30 servers)
6. **Code Attributes** â†’ Clean fences (no `theme={null}`)
7. **Links** â†’ CLI commands (self-referential)
8. **Excess Newlines** â†’ Collapsed

## Performance

- **First access:** ~200ms (cache miss)
- **Cached access:** ~20ms (cache hit)
- **Search:** ~50ms across all docs
- **List (full):** ~19ms (38x faster than no cache)

## Requirements

- **Dependencies:** curl, jq, diff, node (for MCP table parsing)
- **Disk space:** ~1MB for documentation, ~1MB for cache
- **Network:** Required for `update` command only

## Maintenance

### Update Documentation

Check for upstream changes:

```bash
cd ~/.claude/plugins/my-claude-plugins/claude-expert/scripts/
./claude-docs.sh update
```

If changes are found, review the diffs and commit:

```bash
./claude-docs.sh update commit "Description of changes"
```

### Refresh Cache

If documentation seems stale:

```bash
./claude-docs.sh cache clear
./claude-docs.sh cache warm
```

## Technical Details

**Plugin Structure:**
```
claude-expert/
â”œâ”€â”€ .claude-plugin/
â”‚   â””â”€â”€ plugin.json
â”œâ”€â”€ README.md
â”œâ”€â”€ agents/
â”‚   â””â”€â”€ claude-docs.md
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ hooks.json
â”‚   â””â”€â”€ scripts/
â”‚       â””â”€â”€ sessionstart.sh
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ claude-docs.sh (executable)
â”‚   â””â”€â”€ claude-docs-urls.json
â””â”€â”€ skills/
    â””â”€â”€ docs/
        â””â”€â”€ SKILL.md
```

**Skill Configuration:**
- Name: `docs`
- Fully qualified: `claude-expert:docs`
- Allowed tools: `Bash` (for running CLI)
- Model-invoked based on description

## Version

**Current Version:** 1.0.0

**Changelog:**
- 1.0.0 - Initial release with complete documentation system

## Support

For issues or questions:
- Check documentation with search: `./claude-docs.sh search '<topic>'`
- Review all sections: `./claude-docs.sh list`
- Get help: `./claude-docs.sh help`

## License

This plugin provides access to official Claude Code documentation. Refer to Anthropic's terms of service for documentation usage.
